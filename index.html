<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ayuuboo</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background: linear-gradient(120deg, #ffe6f0, #ffd1d1, #ffe6f0); transition: background 1s ease; overflow: hidden; }
  .section { display: none; opacity:0; transition: opacity 0.8s ease; flex-direction: column; gap:1rem; text-align:center; }
  .section.active { display: flex; opacity:1; }
  .wiggle { animation: wiggle 0.6s infinite; }
  @keyframes wiggle { 0% { transform: rotate(-2deg); } 50% { transform: rotate(2deg); } 100% { transform: rotate(-2deg); } }
  .confetti, .kiss, .bouquet { position: fixed; pointer-events: none; }
  .confetti { width: 14px; height: 14px; border-radius: 50%; }
  .kiss { font-size: 24px; }
  .bouquet { font-size: 28px; }
  .runaway { position:absolute; transition: all 0.2s ease; }
</style>
</head>
<body class="min-h-screen flex items-center justify-center">

<!-- Audio -->
<audio id="valAudio" src="https://raw.githubusercontent.com/blablabla000000/all-the-best-babyyyy/main/valentine.mp3" loop></audio>

<div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full z-10">

  <!-- 1. Should I -->
  <div class="section active" id="s1">
    <h1 class="text-3xl font-bold animate-bounce">ğŸ¤” Should Iâ€¦?</h1>
    <p class="italic">This is your last chance to turn back</p>
    <button onclick="nextSection(true)" class="bg-pink-400 text-white px-6 py-2 rounded-full hover:scale-110">ofc go ahead</button>
  </div>

  <!-- 2. Promise -->
  <div class="section" id="s2">
    <h1 class="text-xl font-bold">ğŸ˜¼ Promise something first</h1>
    <p>No running. No escaping.</p>
    <button onclick="nextSection()" class="bg-pink-400 text-white px-6 py-2 rounded-full">I promise</button>
  </div>

  <!-- 3. Valentine Question -->
  <div class="section" id="s3">
    <h1 class="text-2xl font-bold wiggle">ğŸ’˜ WILL YOU BE MY VALENTINE?</h1>
    <p class="italic">Choose wisely ğŸ˜Œ</p>
    <div class="game-box flex items-center justify-center gap-4">
      <button onclick="nextSection()" class="bg-red-400 text-white px-6 py-2 rounded-full">YES</button>
      <button id="noBtn" class="bg-gray-300 px-6 py-2 rounded-full runaway">no</button>
    </div>
    <p class="text-sm italic" id="noText"></p>
  </div>

  <!-- 4. Mini Game -->
  <div class="section" id="s4">
    <h1 class="text-xl font-bold">ğŸ® Mini Game</h1>
    <p class="italic">Win this game to say NO (spoiler: you canâ€™t)</p>
    <p class="text-sm">Click the button when it turns green</p>
    <button id="trapBtn" class="bg-red-400 text-white px-6 py-2 rounded-full">WAITâ€¦</button>
  </div>

  <!-- 5. Celebration -->
  <div class="section" id="s5">
    <h1 class="text-6xl font-bold animate-bounce">ğŸ‰ YAAAYYYY ğŸ‰</h1>
    <p class="animate-pulse">You lost. I won. Celebration time! ğŸ˜Œ</p>
    <p class="text-xl font-semibold mt-2">HEHE.. Now you owe me ice cream ğŸ¦ date.</p>
    <button onclick="nextSection()" class="bg-pink-500 text-white px-6 py-2 rounded-full mt-3">One more surpriseâ€¦</button>
  </div>

  <!-- 6. Final Surprise -->
  <div class="section fade-in" id="s6">
    <h1 class="text-3xl font-bold animate-bounce">ğŸ’ For You</h1>
    <p>Sealed with kisses ğŸ˜š</p>
    <p class="text-xl">ğŸ’ğŸ’ğŸ’ ğŸ˜˜ğŸ˜˜ğŸ˜˜ ğŸ’ğŸ’ğŸ’</p>
    <p class="italic text-sm">(no take-backs)</p>
    <button onclick="nextSection()" class="bg-pink-500 text-white px-6 py-2 rounded-full mt-3">Open my letter ğŸ’Œ</button>
  </div>

  <!-- 7. Letter Page -->
  <div class="section fade-in" id="s7">
    <h1 class="text-3xl font-bold animate-bounce">ğŸ’Œ A Letter for YOU</h1>
    <p class="text-lg mt-2 italic text-pink-600">My dearest, Ayuushhh,</p>
    <p class="mt-3 text-base leading-7">I might be careless about myself, but every single cell in my body cares about you. You are deeply loved.</p>
    <p class="mt-3 text-base leading-7">Eternally yours,</p>
    <p class="mt-2 text-xl font-bold">Drishtiiiiii â¤ï¸</p>
  </div>

</div>

<script>
let current = 1;
const noTexts = ['wrong button ğŸ˜Œ','nice try','almost cutie','not happening','say yes already'];

// Audio
const audio = document.getElementById('valAudio');
let audioPlayed = false;


// Play audio after first click or touch
function tryPlayAudio() {
    if (!audioPlayed) {
        audio.volume = 0.2;
        audio.play().catch(e => console.log("Audio play blocked:", e));
        audioPlayed = true;
    }
}
document.body.addEventListener('click', tryPlayAudio, { once: true });
document.body.addEventListener('touchstart', tryPlayAudio, { once: true });

// Move to next section
function nextSection(playAudio=false){
    if(playAudio && !audioPlayed){
        tryPlayAudio();
    }

    document.getElementById('s'+current).classList.remove('active');
    current++;
    document.getElementById('s'+current).classList.add('active');

    if(current===3) initNoRun();
    if(current===4) initTrapGame();
    if(current===5) burstConfetti(); // celebration
    if(current===6){ // final page
        burstConfetti();
        continuousKisses(10); // increased kisses
        continuousBouquets(10); // increased bouquets
    }
}

// NO button runaway
function initNoRun(){
    const btn = document.getElementById('noBtn');
    const text = document.getElementById('noText');
    btn.onmouseover = () => {
        btn.style.top = Math.random()*60 + '%';
        btn.style.left = Math.random()*60 + '%';
        text.innerText = noTexts[Math.floor(Math.random()*noTexts.length)];
    };
}

// Mini-game
function initTrapGame(){
    const btn = document.getElementById('trapBtn');
    let canClick = false;
    setTimeout(() => {
        btn.innerText = 'NOW!';
        btn.classList.remove('bg-red-400');
        btn.classList.add('bg-green-400');
        canClick = true;
    }, Math.random()*2000 + 1000);

    btn.onclick = () => {
        if(canClick){
            alert('Too slow ğŸ˜Œ You lose');
        } else {
            alert('Too early ğŸ˜ You lose');
        }
        nextSection();
    };
}

// Confetti
function burstConfetti(){
    for(let i=0;i<250;i++){
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = Math.random()*100 + 'vw';
        c.style.top = Math.random()*100 + 'vh';
        c.style.background = ['#ff9aa2','#ffb7b2','#ffd1d1','#cdb4db','#b5ead7'][Math.floor(Math.random()*5)];
        document.body.appendChild(c);
        animateFall(c, 2 + Math.random()*2);
    }
}

// Animate falling
function animateFall(el, speed){
    let top = parseFloat(el.style.top);
    setInterval(()=>{ top += speed; if(top > window.innerHeight) top = -10; el.style.top = top+'px'; }, 20);
}

// Kisses
function continuousKisses(count=20){
    for(let i=0;i<count;i++){
        setInterval(()=>{
            const k = document.createElement('div');
            k.className = 'kiss';
            k.innerText = 'ğŸ’‹';
            k.style.left = Math.random()*100 + 'vw';
            k.style.top = '-20px';
            k.style.fontSize = (20 + Math.random()*20) + 'px';
            document.body.appendChild(k);
            animateFall(k, 2 + Math.random()*2);
        }, 200);
    }
}

// Bouquets
function continuousBouquets(count=15){
    for(let i=0;i<count;i++){
        setInterval(()=>{
            const b = document.createElement('div');
            b.className = 'bouquet';
            b.innerText = 'ğŸ’';
            b.style.left = Math.random()*100 + 'vw';
            b.style.top = '-20px';
            b.style.fontSize = (20 + Math.random()*20) + 'px';
            document.body.appendChild(b);
            animateFall(b, 2.5 + Math.random()*2.5);
        }, 100);
    }
}
</script>

</body>
</html>
